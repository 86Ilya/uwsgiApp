# UWSGI приложение ip2w
Данное uwsgi приложение является простым сервисом выяснения погоды по ip адресу.

## Сборка
В качестве окружения для сборки используется CentOS 7
Для сборки данного приложения необходимо из корня гит репозитория запустить команду:
```bash
sh buildrpm.sh ip2w.spec
```
Для создания необходимого окружения сборки в комплекте имеется `Dockerfile`

## Установка и запуск
Конфиг сервиса находится по адресу /usr/local/etc/ip2w.conf
После установки сам сервис запускается на порту 8042, а nginx
проксирует все запросы с локального 80 порта на порт 8042.

### Примеры запуска сервера 
Пример запроса на проверку погоды и ответа сервера:
```bash
curl http://localhost/ip2w/176.14.221.123
{"city": "Moscow", "temp": "+20", "conditions": "небольшой дождь"}
```

## Запуск тестов
Для запуска тестов необходимо запустить сервис:
```bash
service ip2w start
```
После этого запустить непосредственно сами тесты
```bash
pytest -v -s tests/
```